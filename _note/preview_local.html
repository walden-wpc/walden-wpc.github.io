<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[預覽] Walden</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Site identity block */
        .site-identity {
            display: flex;
            flex-direction: column;
        }
    </style>
</head>

<body>

    <!-- Side Panel -->
    <div class="panel-overlay" id="panel-overlay"></div>

    <aside class="about-panel" id="about-panel">
        <button class="about-close" id="panel-close" aria-label="關閉">✕</button>

        <div>
            <p class="about-tagline">About Me</p>
            <h2 class="about-name">您的名字</h2>
        </div>

        <div class="about-bio">
            <p>在生命科學與人文之間移動的思考者。對神經科學、心理學、語言哲學有持續的興趣，相信嚴謹的科學訓練與人文關懷不必然互相矛盾。</p>
        </div>

        <!-- Now Section -->
        <div class="about-now">
            <p class="about-tagline" style="margin-bottom: 0.5rem;">Now</p>
            <div class="about-bio" style="font-size: 15px;">
                <p>目前正在閱讀 [書名]。正在思考 [主題]。</p>
            </div>
        </div>

        <div class="about-links">
            <a href="mailto:your@email.com" class="about-link">
                <span>Email</span><span>↗</span>
            </a>
            <a href="https://linkedin.com/in/yourname" target="_blank" class="about-link">
                <span>LinkedIn</span><span>↗</span>
            </a>
            <a href="https://mastodon.social/@yourname" target="_blank" class="about-link">
                <span>Mastodon</span><span>↗</span>
            </a>
        </div>
    </aside>

    <!-- Header -->
    <header class="site-header">
        <div class="site-identity">
            <h1 class="site-title"><a href="#">Walden</a></h1>
            <p class="site-subtitle">Mind, Life &amp; Text</p>
        </div>
        <nav class="main-nav">
            <ul>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#thoughts">Thoughts</a></li>
                <li><button class="about-trigger" id="about-trigger">About Me</button></li>
            </ul>
        </nav>
    </header>

    <!-- Ripple Canvas -->
    <div id="walden-container"></div>

    <!-- Main -->
    <main class="article-container">

        <!-- 1. Projects -->
        <section id="projects">
            <span class="section-label">Projects // 實作</span>
            <div class="project-grid">
                <a href="#" class="project-item">
                    <div class="project-thumb" style="background-color: #333;"></div>
                    <h3 class="project-title">Walden 2.0</h3>
                    <p class="project-desc">A digital garden built with Zen principles and Canvas 2D.</p>
                </a>
                <a href="#" class="project-item">
                    <div class="project-thumb" style="background-color: #555;"></div>
                    <h3 class="project-title">Neural UI Dashboard</h3>
                    <p class="project-desc">低延遲儀表板，用於即時神經數據視覺化。</p>
                </a>
            </div>
        </section>

        <!-- 2. Thoughts -->
        <section id="thoughts">
            <span class="section-label">Thoughts // 思考</span>
            <div class="thought-list">
                <a href="#" class="thought-item">
                    <h3 class="thought-title">關於孤獨 (Solitude)</h3>
                    <span class="thought-date">2026.02.18</span>
                </a>
                <a href="#" class="thought-item">
                    <h3 class="thought-title">追憶似水年華：時間的形狀</h3>
                    <span class="thought-date">2026.02.18</span>
                </a>
                <a href="#" class="thought-item">
                    <h3 class="thought-title">神經元與語言：意識的邊界在哪裡？</h3>
                    <span class="thought-date">2026.02.16</span>
                </a>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <span>&copy; 2026 Walden</span>
            <span class="separator">/</span>
            <span>Paper &amp; Ink</span>
        </div>
        <div class="footer-social">
            <a href="#" class="social-link">LinkedIn</a>
            <a href="#" class="social-link">Mastodon</a>
            <a href="#" class="social-link">Email</a>
        </div>
    </footer>

    <!-- Canvas 2D Ripple (Inline) -->
    <script>
        const CONFIG = { fontSize: 10, characters: ' .:-+*=%@#' };
        const ripples = [];
        const MAX_RIPPLES = 8;
        const RIPPLE_SPEED = 60;
        const RIPPLE_DECAY = 0.008;
        let canvas, ctx;

        function init() {
            const container = document.getElementById('walden-container');
            if (!container) return;
            canvas = document.createElement('canvas');
            canvas.style.cssText = 'width:100%;height:100%;cursor:crosshair;display:block;';
            container.innerHTML = '';
            container.appendChild(canvas);
            resize();
            window.addEventListener('resize', resize);
            canvas.addEventListener('mousemove', onMouseMove);
            canvas.addEventListener('click', onClick);
            addRipple(canvas.width / 2, canvas.height / 2, 1.2);
            requestAnimationFrame(animate);
        }

        function resize() {
            if (!canvas) return;
            canvas.width = canvas.parentElement.clientWidth;
            canvas.height = canvas.parentElement.clientHeight;
            ctx = canvas.getContext('2d');
        }

        let lastTime = 0;
        function animate(ts = 0) {
            const dt = Math.min((ts - lastTime) / 1000, 0.1);
            lastTime = ts;
            if (Math.random() > 0.994) addRipple(Math.random() * canvas.width, Math.random() * canvas.height, 0.4 + Math.random() * 0.6);
            for (let i = ripples.length - 1; i >= 0; i--) {
                ripples[i].radius += RIPPLE_SPEED * dt;
                ripples[i].strength -= RIPPLE_DECAY;
                if (ripples[i].strength <= 0) ripples.splice(i, 1);
            }
            drawAscii();
            requestAnimationFrame(animate);
        }

        function drawAscii() {
            if (!ctx) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const cols = Math.floor(canvas.width / CONFIG.fontSize);
            const rows = Math.floor(canvas.height / CONFIG.fontSize);
            const numChars = CONFIG.characters.length - 1;
            ctx.font = `${CONFIG.fontSize}px monospace`;
            ctx.textBaseline = 'top';
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const px = col * CONFIG.fontSize + CONFIG.fontSize / 2;
                    const py = row * CONFIG.fontSize + CONFIG.fontSize / 2;
                    let influence = 0;
                    for (const r of ripples) {
                        const dist = Math.hypot(px - r.x, py - r.y);
                        const waveDist = dist - r.radius;
                        if (Math.abs(waveDist) < 80) {
                            const env = Math.exp(-waveDist * waveDist / 800);
                            influence += Math.sin(dist * 0.15 - r.radius * 0.08) * r.strength * env;
                        }
                    }
                    const n = (influence + 1) / 2;
                    const charIdx = Math.floor(Math.max(0, Math.min(n, 0.999)) * numChars);
                    const ch = CONFIG.characters[charIdx];
                    if (ch !== ' ') {
                        ctx.fillStyle = `rgba(26,26,26,${(0.08 + n * 0.6).toFixed(2)})`;
                        ctx.fillText(ch, col * CONFIG.fontSize, row * CONFIG.fontSize);
                    }
                }
            }
        }

        function addRipple(x, y, s) { ripples.push({ x, y, radius: 0, strength: s }); if (ripples.length > MAX_RIPPLES) ripples.shift(); }
        let lastMR = 0;
        function onMouseMove(e) {
            if (Date.now() - lastMR < 200) return;
            const r = canvas.getBoundingClientRect();
            addRipple((e.clientX - r.left) * canvas.width / r.width, (e.clientY - r.top) * canvas.height / r.height, 0.5 + Math.random() * 0.4);
            lastMR = Date.now();
        }
        function onClick(e) {
            const r = canvas.getBoundingClientRect();
            addRipple((e.clientX - r.left) * canvas.width / r.width, (e.clientY - r.top) * canvas.height / r.height, 1.5);
        }
        init();
    </script>

    <!-- Side Panel Script -->
    <script>
        const trigger = document.getElementById('about-trigger');
        const panel = document.getElementById('about-panel');
        const overlay = document.getElementById('panel-overlay');
        const closeBtn = document.getElementById('panel-close');
        function openPanel() { panel.classList.add('open'); overlay.classList.add('open'); document.body.style.overflow = 'hidden'; }
        function closePanel() { panel.classList.remove('open'); overlay.classList.remove('open'); document.body.style.overflow = ''; }
        trigger.addEventListener('click', openPanel);
        closeBtn.addEventListener('click', closePanel);
        overlay.addEventListener('click', closePanel);
        document.addEventListener('keydown', e => { if (e.key === 'Escape') closePanel(); });
    </script>

</body>

</html>